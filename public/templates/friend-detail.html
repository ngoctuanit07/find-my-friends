<ion-view title="{{friend.user.name}}">
    <ion-content has-header="true" padding="false">
        <a href="#/map" ng-if="address">
            <google-map
                    center="map.center"
                    zoom="map.zoom"
                    control="map.control"
                    options="map.options"
                    >
                <markers models="markers"
                         coords="'location'"
                         icon="'photoSmall'"
                         fit="false"
                         options="'options'"
                        >
                    <windows show="'showWindow'" options="map.infoWindowWithCustomClass.options" ng-cloak>
                        <img class="photo-thumb" href="#/friend/{{ id }}" ng-non-bindable src="{{ photoThumb }}">
                    </windows>
                </markers>
            </google-map>
        </a>

        <div class="card" ng-show="address">
            <div class="item item-divider">
                Current address location
            </div>
            <a class="item item-icon-left"
               target="_blank"
               href="{{address.url}}">
                <i class="icon ion-android-location"></i>
                {{address.text}}
            </a>
        </div>

        <div class="card" ng-hide="address">
            <div class="item item-divider">
                Current address location
            </div>
            <a class="item item-icon-left">
                <i class="icon ion-android-location"></i>
                No location
            </a>
        </div>


        <div class="card" ng-show="driving">
            <div class="item item-divider">
                Driving distance from my location
            </div>
            <a class="item item-icon-left" target="_blank" href="{{driving.url}}">
                <i class="icon ion-model-s"></i>
                {{driving.distance}}
            </a>
            <a class="item item-icon-left" target="_blank" href="{{driving.url}}">
                <i class="icon ion-clock"></i>
                {{driving.duration}}
            </a>
        </div>

        <div class="card" ng-show="walking">
            <div class="item item-divider">
                Walking distance from my location
            </div>
            <a class="item item-icon-left" target="_blank" href="{{walking.url}}">
                <i class="icon ion-man"></i>
                {{walking.distance}}
            </a>
            <a class="item item-icon-left" target="_blank" href="{{driving.url}}">
                <i class="icon ion-clock"></i>
                {{walking.duration}}
            </a>
        </div>

        <div class="card" ng-hide="address">
            <a class="item text-center item-energized" ng-click="unblockFriend(friend.user.id)">
                Ask for location
            </a>
        </div>

        <div class="card" ng-if="friend.status != 'blocked'">
            <a class="item text-center item-assertive" ng-click="blockFriend(friend.user.id)">
                Block friend
            </a>
        </div>

        <div class="card" ng-if="friend.status == 'blocked'">
            <a class="item text-center item-balanced" ng-click="unblockFriend(friend.user.id)">
                Unblock friend
            </a>
        </div>
    </ion-content>
</ion-view>
